<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paul Graham Essays</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <img src="paulgraham-ascii.png" alt="Paul Graham ASCII Art" class="header-image">
            <div class="header-text-content">
                <h1>Paul Graham Essays</h1>
                <div class="search-container">
                    <input type="text" class="search-bar" placeholder="Search essays...">
                    <span class="search-clear" data-action="clear-search">×</span>
                </div>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="filters-sidebar">
            <div class="section-divider">
                <h3 class="section-title">Filter</h3>
                <span class="reset-filters-btn" data-action="reset-filters">Reset Filter ×</span>
            </div>

            <div class="filter-group filter-section">
                <label class="filter-label collapsed" data-action="toggle-section">Topics</label>
                <div class="filter-content collapsed">
                    <div id="topicTree" class="topic-tree"></div>
                </div>
            </div>

            <div class="filter-group filter-section">
                <label class="filter-label collapsed" data-action="toggle-section">Essay Type</label>
                <div class="filter-content collapsed">
                    <div id="essayTypeTree" class="topic-tree"></div>
                </div>
            </div>

            <div class="filter-group filter-section">
                <label class="filter-label collapsed" data-action="toggle-section">Audience</label>
                <div class="filter-content collapsed">
                    <div id="audienceTree" class="topic-tree"></div>
                </div>
            </div>

            <div class="filter-group filter-section">
                <label class="filter-label collapsed" data-action="toggle-section">Year</label>
                <div class="filter-content collapsed">
                    <div class="range-slider-container">
                        <div class="range-values">
                            <span>Min: <span class="range-value" id="yearMinValue">1996</span></span>
                            <span>Max: <span class="range-value" id="yearMaxValue">2025</span></span>
                        </div>
                        <div class="dual-range-wrapper">
                            <div class="range-track-bg"></div>
                            <div class="range-track-fill" id="yearRangeTrack"></div>
                            <input type="range" id="yearMinSlider" class="range-input range-min" min="1996" max="2025" value="1996" step="1">
                            <input type="range" id="yearMaxSlider" class="range-input range-max" min="1996" max="2025" value="2025" step="1">
                        </div>
                    </div>
                </div>
            </div>

            <div class="filter-group filter-section">
                <label class="filter-label collapsed" data-action="toggle-section">Reading Time (min)</label>
                <div class="filter-content collapsed">
                    <div class="range-slider-container">
                        <div class="range-values">
                            <span>Min: <span class="range-value" id="timeMinValue">0</span></span>
                            <span>Max: <span class="range-value" id="timeMaxValue">70</span></span>
                        </div>
                        <div class="dual-range-wrapper">
                            <div class="range-track-bg"></div>
                            <div class="range-track-fill" id="timeRangeTrack"></div>
                            <input type="range" id="timeMinSlider" class="range-input range-min" min="0" max="70" value="0" step="5">
                            <input type="range" id="timeMaxSlider" class="range-input range-max" min="0" max="70" value="70" step="5">
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-divider">
                <h3 class="section-title">Sort</h3>
                <span class="reset-filters-btn" data-action="reset-sort">Reset Sort ×</span>
            </div>

            <div class="filter-group sort-section">
                <label class="filter-label collapsed" data-action="toggle-section">Date</label>
                <div class="filter-content collapsed">
                    <div class="topic-tree" id="dateSortTree">
                        <div class="tree-item" data-action="sort" data-sort="date-desc">
                            <span class="tree-item-label">Newest to Oldest</span>
                        </div>
                        <div class="tree-item" data-action="sort" data-sort="date-asc">
                            <span class="tree-item-label">Oldest to Newest</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="filter-group sort-section">
                <label class="filter-label collapsed" data-action="toggle-section">Length</label>
                <div class="filter-content collapsed">
                    <div class="topic-tree" id="lengthSortTree">
                        <div class="tree-item" data-action="sort" data-sort="length-desc">
                            <span class="tree-item-label">Longest to Shortest</span>
                        </div>
                        <div class="tree-item" data-action="sort" data-sort="length-asc">
                            <span class="tree-item-label">Shortest to Longest</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="middle-pane">
            <div class="essay-count" id="essayCount"></div>
            <div id="essayList"></div>
        </div>

        <div class="right-pane" id="rightPane">
            <div class="preview-header" id="previewHeader"></div>
            <div class="preview-container" id="previewContainer"></div>
        </div>
    </div>

    <!-- load scripts in correct order: config, state, utilities, then main -->
    <script src="scripts/config.js"></script>
    <script src="scripts/state.js"></script>
    <script src="scripts/search.js"></script>
    <script src="scripts/filters.js"></script>
    <script src="scripts/ui-render.js"></script>
    <script src="scripts/ui-interactions.js"></script>
    <script src="scripts/range-sliders.js"></script>
    <script src="scripts/event-delegation.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
